<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Supervisor Training | AMS Training Portal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" href="../css/main.css" />
</head>

<body data-module="supervisor">

  <main class="module-container">

    <!-- HEADER -->
    <header class="module-header">
      <h1 data-lang="title">Supervisor Training Module</h1>

      <div class="module-controls">
        <select id="languageToggle">
          <option value="en">English</option>
          <option value="es">Español</option>
        </select>

        <button class="btn-secondary" onclick="goDashboard()">
          Back to Dashboard
        </button>
      </div>
    </header>

    <!-- NAV -->
    <nav class="module-nav">
      <button id="btnContent" onclick="showSection('content')">
        Content
      </button>
      <button id="btnQuiz" onclick="showSection('quiz')">
        Quiz
      </button>
      <button id="btnCertificate" onclick="showSection('certificate')">
        Certificate
      </button>
    </nav>

    <!-- CONTENT -->
    <section id="contentSection" class="module-section">
      <h2>Supervisor Training Content</h2>
      <p>
        This training provides supervisors with DOT-required knowledge
        on recognizing and responding to drug and alcohol use.
      </p>

      <!-- IMPORTANT: content → quiz gate -->
      <button class="btn-primary" onclick="completeSupervisorContent()">
        Continue to Quiz
      </button>
    </section>

    <!-- QUIZ -->
    <section id="quizSection" class="module-section hidden">
      <h2>Supervisor Quiz</h2>
      <p>
        Complete the quiz to finish the training.
      </p>

      <!-- REQUIRED QUIZ MOUNT -->
      <div id="quizContainer"></div>
    </section>

    <!-- CERTIFICATE -->
    <section id="certificateSection" class="module-section hidden">
      <h2>Training Certificate</h2>

      <p>
        This certifies that
        <strong id="certName">Supervisor Name</strong>
        has successfully completed Supervisor Training.
      </p>

      <p>
        <strong>Date Issued:</strong>
        <span id="certDate"></span>
      </p>

      <p>
        <strong>Verification Code:</strong>
        <span id="certVerify"></span>
      </p>

      <div id="certQR" style="margin-top:12px;"></div>

      <button class="btn-primary" onclick="goDashboard()">
        Return to Dashboard
      </button>
    </section>

  </main>

  <!-- SCRIPTS (ORDER MATTERS) -->
  <script src="../js/access-guard.js"></script>
  <script src="../js/lang-loader.js"></script>
  <script src="../js/progress.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/qrcodejs/qrcode.min.js"></script>

  <script src="../js/core.js"></script>
  <script src="../js/supervisor.js"></script>

</body>
</html>
