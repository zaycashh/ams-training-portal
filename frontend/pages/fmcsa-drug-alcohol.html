<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>FMCSA Drug & Alcohol Training | AMS Training Portal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="../css/main.css" />
</head>

<body data-module="fmcsa-drug-alcohol">

<main class="module-container">

  <header class="module-header">
    <h1>FMCSA Drug & Alcohol Training</h1>
    <button class="btn-secondary" onclick="logout()">Log Out</button>
  </header>

  <!-- ========================
       DRUG CONTENT
  ========================= -->
  <section id="drugContentSection" class="module-section">
    <h2>Drug Training Content</h2>

    <div class="pdf-viewer">
      <canvas id="drugPdfCanvas"></canvas>

      <div class="pdf-controls">
        <button id="drugPrevPageBtn" class="btn-secondary">← Previous</button>

        <span>
          Page <span id="drugCurrentPage">1</span>
          of <span id="drugTotalPages">--</span>
        </span>

        <button id="drugNextPageBtn" class="btn-secondary">Next →</button>
      </div>

      <div class="progress-wrapper">
        <div id="drugProgressBar"></div>
      </div>
    </div>

    <button
      id="completeDrugContentBtn"
      class="btn-primary"
      style="margin-top:20px;"
      disabled
    >
      I Have Completed Drug Training Content
    </button>
  </section>

  <!-- ========================
       DRUG QUIZ
  ========================= -->
  <section id="drugQuizSection" class="module-section hidden">
    <h2>Drug Quiz</h2>

    <div class="quiz-container">
      <div id="drugQuizQuestions"></div>

      <div class="quiz-nav">
        <button id="drugPrevBtn" class="btn-secondary">Previous</button>
        <button id="drugNextBtn" class="btn-primary">Next</button>
      </div>

      <div id="drugQuizResult"></div>
    </div>
  </section>

  <!-- ========================
       ALCOHOL CONTENT
  ========================= -->
  <section id="alcoholContentSection" class="module-section hidden">
    <h2>Alcohol Training Content</h2>

    <div class="pdf-viewer">
      <canvas id="alcoholPdfCanvas"></canvas>

      <div class="pdf-controls">
        <button id="alcoholPrevPageBtn" class="btn-secondary">← Previous</button>

        <span>
          Page <span id="alcoholCurrentPage">1</span>
          of <span id="alcoholTotalPages">--</span>
        </span>

        <button id="alcoholNextPageBtn" class="btn-secondary">Next →</button>
      </div>

      <div class="progress-wrapper">
        <div id="alcoholProgressBar"></div>
      </div>
    </div>

    <button
      id="completeAlcoholContentBtn"
      class="btn-primary"
      style="margin-top:20px;"
      disabled
    >
      I Have Completed Alcohol Training Content
    </button>
  </section>

  <!-- ========================
       ALCOHOL QUIZ
  ========================= -->
  <section id="alcoholQuizSection" class="module-section hidden">
    <h2>Alcohol Quiz</h2>

    <div class="quiz-container">
      <div id="alcoholQuizQuestions"></div>

      <div class="quiz-nav">
        <button id="alcoholPrevBtn" class="btn-secondary">Previous</button>
        <button id="alcoholNextBtn" class="btn-primary">Next</button>
      </div>

      <div id="alcoholQuizResult"></div>
    </div>
  </section>

  <!-- ========================
       MODULE B CERTIFICATE
  ========================= -->
  <section id="drugAlcoholCertificateSection" class="module-section hidden">
    <h2>FMCSA Drug & Alcohol Certificate</h2>

    <div class="certificate-box">
      <p>
        Congratulations! You have successfully completed
        FMCSA Drug & Alcohol Awareness Training.
      </p>

      <p>
        Completion Date:
        <span id="moduleBCompletionDate"></span>
      </p>

      <button class="btn-primary" onclick="window.print()">
        Print Certificate
      </button>
    </div>
  </section>

</main>

<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
<script src="../js/route-guard.js"></script>
<script src="../js/fmcsa-drug-alcohol.js"></script>
<script src="../js/dashboard.js"></script>

</body>
</html>
